<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Template and notification section -->
    <data noupdate="0">
        <record id="email_template_applicant_job_offer" model="mail.template">
        <field name="name">Applicant: Job Offer</field>
        <field name="model_id" ref="hr_job_offer_letter.model_hr_applicant"/>
        <field name="subject">Job Offer for the Position: ${object.job_id.name | safe}</field>
        <field name="email_to">${(object.email_from or '') | safe}</field>
        <field name="body_html" type="html">
            <table border="0" cellpadding="0" cellspacing="0" width="590" style="background-color: white; border-collapse: collapse; margin-left: 20px;">
                <tr>
                    <td valign="top" style="padding: 0px 10px;">
                        <div style="font-size: 13px; margin: 0px; padding: 0px;">
                            Hello ${(object.partner_name or '') | safe},
                            <br/><br/>
                            We were all very excited to meet and get to know you over the past few days. We have been impressed with your background and would like to formally offer you the position as <a href="${object.job_id.website_url or ''}" style="color:#9A6C8E;"><strong>${object.job_id.name}</strong></a>. We trust that your experience and skills will be a valuable asset to our company.
                            <br/><br/>
                            You may indicate your agreement with these terms and accept this offer by signing and dating this agreement within 48 hours. Upon your acceptance of this employment offer, we will provide you with the necessary paperwork and instructions.
                            <br/><br/>
                            In the meantime, please feel free to contact <strong>${object.user_id.name}</strong> via email or phone, if you have any questions.
                            <br/><br/>

                            % if 'website_url' in object.job_id and object.job_id.website_url:
                                <div style="margin: 16px 8px 16px 8px;">
                                    <a href="${object.job_id.website_url}"
                                        style="background-color: #875a7b; text-decoration: none; color: #fff; padding: 8px 16px 8px 16px; border-radius: 5px;">Job Description</a>
                                </div>
                            % endif

                            <hr width="97%" style="background-color: rgb(204,204,204); border: medium none; clear: both; display: block; font-size: 0px; min-height: 1px; line-height: 0; margin: 16px 0px 16px 0px;"/>
                            % if object.user_id:
                                <h3 style="color:#9A6C8E;"><strong>Your Contact:</strong></h3>
                                <table>
                                    <tr>
                                        <td width="75">
                                            <img src="/web/image/res.users/${object.user_id.id}/image_128" alt="Avatar" style="vertical-align:baseline; width: 64px; height: 64px; object-fit: cover;" />
                                        </td>
                                        <td>
                                            <strong>${object.user_id.name}</strong><br/>
                                            <span>Email: ${object.user_id.email or ''}</span><br/>
                                            <span>Phone: ${object.user_id.phone or ''}</span>
                                        </td>
                                    </tr>
                                </table>
                                <hr width="97%" style="background-color: rgb(204,204,204); border: medium none; clear: both; display: block; font-size: 0px; min-height: 1px; line-height: 0; margin: 16px 0px 16px 0px;"/>
                            % endif

                            We are all looking forward to having you on our team.

                            <hr width="97%" style="background-color: rgb(204,204,204); border: medium none; clear: both; display: block; font-size: 0px; min-height: 1px; line-height: 0; margin: 17px 0px 16px 0px;"/>
                            % set location = ''
                            % if object.job_id.address_id.name:
                                <strong>${object.job_id.address_id.name}</strong><br/>
                            % endif
                            % if object.job_id.address_id.street:
                                ${object.job_id.address_id.street}<br/>
                                % set location = object.job_id.address_id.street
                            % endif
                            % if object.job_id.address_id.street2:
                                ${object.job_id.address_id.street2}<br/>
                                % set location = '%s, %s' % (location, object.job_id.address_id.street2)
                            % endif
                            % if object.job_id.address_id.city:
                                ${object.job_id.address_id.city},
                                % set location = '%s, %s' % (location, object.job_id.address_id.city)
                            % endif
                            % if object.job_id.address_id.state_id.name:
                                ${object.job_id.address_id.state_id.name},
                                % set location = '%s, %s' % (location, object.job_id.address_id.state_id.name)
                            % endif
                            % if object.job_id.address_id.zip:
                                ${object.job_id.address_id.zip}
                                % set location = '%s, %s' % (location, object.job_id.address_id.zip)
                            % endif
                            <br/>
                            % if object.job_id.address_id.country_id.name:
                                ${object.job_id.address_id.country_id.name}<br/>
                                % set location = '%s, %s' % (location, object.job_id.address_id.country_id.name)
                            % endif
                            <br/>
                        </div>
                    </td>
                </tr>
            </table>
        </field>
<!--        <field name="report_template" ref="action_report_job_offer_letter"/>-->
<!--            <field name="report_name">${(object.name or '').replace('/','_')}</field>-->
        <field name="auto_delete" eval="True"/>
        <field name="lang">${object.partner_id.lang or user.lang}</field>
    </record>

    </data>
</odoo>
